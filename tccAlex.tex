\documentclass{ufscThesis} % Definicao do documentclass ufscThesis	

%----------------------------------------------------------------------
% Pacotes usados especificamente neste documento
\usepackage{graphicx} % Possibilita o uso de figuras e gráficos
\usepackage{color}    % Possibilita o uso de cores no documento
\usepackage{listings}
\usepackage{textcomp}
%----------------------------------------------------------------------
% Comandos criados pelo usuário
\newcommand{\afazer}[1]{{\color{red}{#1}}} % Para destacar uma parte a ser trabalhada
\newcommand{\ABNTbibliographyname}{REFERÊNCIAS} % Necessário para abnTeX 0.8.2

%----------------------------------------------------------------------
% Identificadores do trabalho
% Usados para preencher os elementos pré-textuais
\instituicao[a]{Universidade Federal de Santa Catarina} % Opcional
\departamento[a]{Departamento de Informática e Estatística}
\curso[o]{Programa de Graduação em Ciências da Computação}
\documento[a]{Tese} % [o] para dissertação [a] para tese
\titulo{Proposta de uma plataforma de sistemas multiagentes para suportar a gerência autônoma de recursos em ambientes de computação em nuvem}
%\subtitulo{Subtítulo (se houver)} % Opcional
\autor{Alexandre de Limas Santana}
\grau{Bacharel}
\local{Florianópolis} % Opcional (Florianópolis é o padrão)
\data{01}{Novembro}{2015}
\orientador[Orientador]{Prof. Dr. Ricardo Azambuja Silveira}
\coorientador[Coorientador]{Me. Rafael Weing\"artner}
\coordenador[M\'{a}rio Ant\^{o}nio Ribeiro Dantas\\Universidade Federal de Santa Catarina]{Prof. Dr. }

\numerodemembrosnabanca{4} % Isso decide se haverá uma folha adicional
\orientadornabanca{nao} % Se faz parte da banca definir como sim
\coorientadornabanca{sim} % Se faz parte da banca definir como sim
\bancaMembroA{Primeiro membro\\Universidade ...} %Nome do presidente da banca
\bancaMembroB{Segundo membro\\Universidade ...}      % Nome do membro da Banca
\bancaMembroC{Terceiro membro\\Universidade ...}     % Nome do membro da Banca
\bancaMembroD{Quarto membro\\Universidade ...}       % Nome do membro da Banca
%\bancaMembroE{Quinto membro\\Universidade ...}       % Nome do membro da Banca
%\bancaMembroF{Sexto membro\\Universidade ...}        % Nome do membro da Banca
%\bancaMembroG{Sétimo membro\\Universidade ...}       % Nome do membro da Banca

%\dedicatoria{Este trabalho é dedicado aos meus colegas de classe e aos meus queridos pais.}

%\agradecimento{Inserir os agradecimentos aos %colaboradores à execução do trabalho.}

%\epigrafe{Texto da Epígrafe. Citação relativa ao tema do trabalho. É opcional. A epígrafe pode também aparecer na abertura de cada seção ou capítulo.}
%{(Autor da epígrafe, ano)}

\textoResumo {Dado a ascen{\c c}{\~a}o do paradigma de computa{\c c}{\~a}o em nuvem, faz-se necess\'{a}rio o estudo de ferramentas para melhor gerir este ambiente. Possuindo caracter\'{i}sticas tais como dinamismo, flexibilidade e escalabilidade, tais sistemas provam ser um desafio para uma efici\^{e}nte ger\^{e}ncia energ\'{e}tica. Motivado pela semelhan{\c c}a entre os paradigmas de nuvem e multiagentes, este estudo propõe uma plataforma de sistemas multiagentes para suportar o gerenciamento e otimização de ambientes situados na nuvem.}
\palavrasChave {Computa{\c c}{\~a}o em Nuvem. Int\^{e}ligencia Artificial.  Sistemas multiagentes. Orquestração de computação em nuvem}
 
\textAbstract {Given the rise on cloud computing systems usage, new management approaches are needed to deal with its charachteristics such as heterogeneity, dynamism, flexibility and size. Energetic efficiency is a great challenge to be dealt with, given the aforementioned characteristics mixed together with stochastic loads. Driven by cloud and multiagent system's relation, this study proposes a multiagent systems platform to support the autonomic management of cloud environments.}
\keywords {Cloud Computing. Artificial Intelligence. Multiagent Systems}

%----------------------------------------------------------------------
% Início do documento                                
\begin{document}
%--------------------------------------------------------
% Elementos pré-textuais
\capa  
%\folhaderosto[comficha] % Se nao quiser imprimir a ficha, é só não usar o parâmetro
%\folhaaprovacao
%\paginadedicatoria
%\paginaagradecimento
%\paginaepigrafe
%\paginaresumo
%\paginaabstract
%\pretextuais % Substitui todos os elementos pre-textuais acima
\listadefiguras % as listas dependem da necessidade do usuário
\listadetabelas 
\listadeabreviaturas
\listadesimbolos
\sumario
%--------------------------------------------------------
% Elementos textuais

\chapter{Introdução}


Computação em nuvem (CN)\abreviatura{CN}{Computação em nuvem} é um paradigma tecnológico, que vem chamando a atenção dos provedores de serviços, por propor uma mudança na forma de disponibilizar seus produtos. Várias características o tornam  atraente, dentre elas, o uso/obtenção de recursos computacionais sob demanda, fazendo com que clientes da nuvem possam usá-la sem um investimento inicial significativo \cite{a-prieta}. A adoção de CN é uma tendência observada em empresas de pequeno à grande porte, sendo as principais razões, melhorar a disponibilidade dos serviços e obter uma melhora na infra-estrutura interna \cite{instance1290}.\par

Quando se fala em serviços providos por uma nuvem, deve-se pensar em disponibilidade. Fator altamente ligado com a qualidade de serviço (QoS) \abreviatura{QoS}{Qualidade de Serviço}percebida pelos usuários. A necessidade de entregar QoS ao usuário faz com que servidores sejam mantidos ociosos a espera de cargas estocásticas, consumindo mais energia e influenciando diretamente os custos de manutenção de um ambiente na nuvem \cite{a-westphal-energetico}.\par

Provedores não podem abandonar suas métricas de QoS para obter um melhor nível de eficiência energética. Assim como não devem manter todos os servidores operantes sem carga. Adicionalmente, as ferramentas de orquestração mais difundidas no mercado, atualmente, não provém a funcionalidade de otimização da eficiência energética do ambiente levando em conta os níveis de QoS desejado \cite{tcc-gabriel}.\par

Problemas como este, onde não se conhece uma fórmula algorítmica de obter a melhor solução e onde a informação está distribuída pelo ambiente podem ser tratados através de uma abordadem de sistemas multiagentes (SMA)\abreviatura{SMA}{Sistemas Multiagente}. Dessa forma é possível trabalhar de forma híbrida em cima do problema \cite{a-ricardo-intro}, trazendo o conhecimento de um especialista para os agentes do ambiente, que por sua vez atuarão para alcançar seus objetivos. Adicionado a isto, a natureza heterogênea, dinâmica e contínua de SMA, semelhante a de CN, faz com que pareça natural e condizente uma convergência entre as técnologias. 

\section{Motivação e justificativa}

Em pesquisas recentes, foi constatado que existe uma tendência de adesão à técnologia de CN. O que significa que servidores serão cada vez mais requisitados para atender cargas estocásticas. Este fato, intensifica o consumo energético de empresas que dispõe de tais recursos computacionais \cite{instance1290}.\par

Tal fato trás atenção para o custo de manutenção de um servidor. O qual pode se tornar um agravante, devido ao fato de que a energia usada por um servidor operante não é linearmente proporcional a carga com que ele está trabalhando, como observado em \cite{awada2014energy}. Pontos levantados na pesquisa realizada por Awada, Li e Shen servem de motivação para o estudo de técnicas para gerência de ambientes na nuvem, entre eles, alguns merecem destaque \cite{tcc-gabriel}:

\begin{itemize}  
	\item Os servidores, mesmo com 20\% de carga, tendem a consumir 80\% da energia necessária quando exigidos ao máximo;
	\item Servidores, avaliados em ambientes reais, no geral são expostos a cargas de uso entre 10\% e 50\%;
	\item O custo para refrigeracão destes ambientes, reflete em 30\% do custo energético total do centro de processamento.
\end{itemize}

Estes dados mostram que é necessário uma melhor gerência dos recursos disponíveis. Um /textit{datacenter} que possui servidores sub-utilizadas, torna-se ineficiênte, tanto energeticamente quanto pelo poder computacional ocioso. O fato de que não há uma maneira automática de gerência para estes ambientes, faz com que empresas de pequeno e médio porte, que representam mais do que 90\% do consumo energético utilizado para alimentação e refrigeração de data centers americanos \cite{whitney2014data}, tenham dificuldades para gerenciar o consumo energético dos seus data centers.\par

Seguindo os passos de agentes informais de consolidação já propostos e testados por Uchechukwu, Li e Shen, que mostram resultados de diminuição de máquinas ativas de 81\% para 44\% \cite{uchechukwu2012improving}, pode-se pensar em uma implementação formal, com parâmetros variáveis de QoS e distribuída, usando técnicas de sistemas multiagentes.\par

Por mais que o uso de agentes na nuvem tenha sido, até agora, limitado a SMAs que usam recursos computacionais da nuvem e nuvens que utilizam SMA para prover serviços inteligentes \cite{a-prieta}, Wooldridge pontua que o uso de uma abordagem multiagentes é recomendada, quando o problema possui um ambiente aberto, dinâmico e complexo, ou também quando existem dados, controle e expertise distribuidos no ambiente. Logo, analisando as características do problema de gerência de uma nuvem computacional, pode-se perceber que a abordagem de gerência utilizando SMA se encaixa conceitualmente bem como estratégia de resposta.\par

Este trabalho tem como objetivo permitir uma abordagem formal de sistemas multiagentes em ambientes de computação em nuvem, para realizar a gerência de seus recursos. Para que isso seja possível, propõem-se criar o suporte em ferramentas de orquestração de computação em nuvem atuais para que estas possam conter uma plataforma de agentes. Esse novo módulo deve ser autônomo, dentro da ferramenta, e funcionar de forma não intrusiva nos recursos da nuvem utilizados pelo usuário. Assim, agentes podem existir no ambiente da nuvem, perceber seu estado e atuar para atingir níveis de performance e qualidade de serviço desejados. 

\section{Objetivos}

Essa seção é dedicada a explicitar os objetivos específicos e gerais deste trabalho.

\subsection{Objetivos Gerais}

Este trabalho visa efetuar análises em torno dos temas de gerência automática de ambientes na nuvem e sistemas multiagentes, visando a criação e inclusão de uma plataforma de gerência automática utilizando SMA à uma ferramenta de orquestração.

\subsection{Objetivos Específicos}

Os objetivos específicos deste trabalho são:

\begin{itemize}
	\item Levantar trabalhos relacionados com gerenciamento de ambiente na nuvem usando SMA;
	\item Comparar as principais plataformas de desenvolvimento de SMA em relação a sua capacidade de aplicação em gerência de ambientes na nuvem;
	\item Propor a adição de uma plataforma de desenvolvimento de SMA em uma ferramenta de orquestração de computação em nuvem, que suporte técnicas de gerência da nuvem;
	\item Implantar a plataforma de SMA desenvolvida na ferramenta de orquestração Cloudstack.
\end{itemize}


\section{Organização de texto}

Este trabalho será dividido em capítulos, sendo eles:

\begin{enumerate}
	\item Introduçao: apresenta o trabalho, assim como sua motivação, objetivos e organização; 
	\item Fundamentação teórica: detalha conceitos utilizados no decorrer deste estudo, assim como os restringe ao escopo do trabalho;
	\item Trabalhos relacionados: apresenta pesquisas recentes, relacionados à proposta apresentada;
	\item Proposta: descreve a plataforma a ser adicionado em uma ferramenta de orquestração, apresentando a análise da problemática, soluções propostas e algoritmos;
	\item Resultados: apresenta os resultados obtidos a partir da execução do trabalho;
	\item Conclusões: finaliza o trabalho, descrevendo as contribuições, considerações e trabalhos futuros.
\end{enumerate}

\chapter{Fundamentação Teórica}

Esse capítulo tem o intuito de apresentar os conceitos utilizados no decorrer do trabalho tanto de CN quanto de SMA, apresentando uma visão geral das áreas e suas características. 

\section{Computação em Nuvem}

O artigo da \textit{National Institute of Standards and Technology}\abreviatura{NIST}{National Institute of Standards and Technology}\\ (NIST), \cite{mell2011nist}, define CN como um modelo para acesso conveniente, sob-demanda e pela rede de recursos computacionais, de forma que estes possam ser rapidamente instanciados e desalocados. As características do ambiente de CN são definidas com o objetivo de prover serviços sem interação humana, de uma forma ágil e transparente ao usuário, de maneira que ele não saiba como são alocados seus recursos fisicos ou virtuais.\par

Um ambiente em nuvem pode ser classificado de acordo com seu modelo de serviço. A agência NIST em \cite{mell2011nist} define estes modelos da seguinte forma:

\begin{itemize}
	\item \textit{Software as a service} \abreviatura{SaaS}{Software as a Service}(SaaS): providência aos consumidores a capacidade de executar programas de provedores na infraestrutura da nuvem. Estas aplicações podem ser acessadas através de interfaces leves, tais como navegadores. O consumidor não despende recursos com a gerência e manutenção da infraestrutura da nuvem, tais como sistema operacional, redes, servidores ou mesmo configurações individuais da aplicação a não ser configurações de execução específicas para usuário.
	
	\item \textit{Platform as a service} \abreviatura{PaaS}{Platform as a Service}(PaaS): providência ao consumidor a capacidade de publicar na nuvem aplicações criadas a partir de linguagens de programação, bibliotecas, serviços e ferramentas suportadas pelo provedor.O cliente não gerencia nem tem controle sobre a infraestrutura da nuvem, incluindo a rede, servidores, sistema operacional e armazenamento. Entretanto, ele tem controle das suas aplicações e possivelmente configurações sobre o ambiente em que é executada a aplicação;

	\item \textit{Infrastructure as a service} \abreviatura{IaaS}{Infrastructure as a Service}(IaaS): providência ao consumidor a possibilidade de alocar processamento, armazenamento, serviços de rede e outros recursos computacionais onde o consumidor pode publicar e executar software arbitrário, o que pode incluir sistemas e aplicações. O consumidor não gerencia nem tem controle sobre a infraestrutura física, mas tem controle sobre sistemas operacionais, armazenamento e de suas aplicações publicadas. Pode existir também casos em que o consumidor tem controle de componentes específicos da rede, tais como firewall.
\end{itemize}

Este trabalho tem como alvo as nuvens que provém o serviço de IaaS, dado que esse tipo de nuvem deve dividir lógicamente seu poder computacional para atender os consumidores. Dessa forma, deve haver a preocupação de segmentar os recursos de forma eficiente, sem a utilização de servidores excedentes ou ainda realocar segmentos, para que seja possível atender uma nova demanda nos servidores ativos.

\section{Virtualização}

Segundo \citeonline{tholeti2011hypervisors}, virtualização é definida como a criação de substitutos, usando divisões lógicas, para os verdadeiros recursos físicos. Estes possuem a mesma função e interfaces externas, mas diferem em tamanho, performance e custo. Os usuários destes recursos virtuais típicamente não percebem a substituição, uma vez que sistemas virtuais devem obter performance semelhante a sua contraparte física, em relação as aplicações dentro do servidor. Usando virtualização é possível fazer com que um recurso físico seja visto como múltiplos recursos virtuais. A figura \ref{fig:virtualizacao}, demonstra a virtualização de múltiplos sistemas virtuais independentes, que usam recursos virtuais, sobre um único sistema físico.

\begin{figure}[!b]
 	\centering
 	\caption{Representação de um ambiente virtualizado \cite{tholeti2011hypervisors}.}\label{fig:virtualizacao}
 	\includegraphics[width=1\textwidth]{figuras/virtualizacao.png}
\end{figure}


Os virtualizadores são componentes de software ou firmware, capazes de virtualizar recursos físicos. Existem três tipos de virtualização diferentes, suas definições são \cite{tholeti2011hypervisors}:

\begin{itemize}
	\item Tipo 1: A virtualização de tipo 1 é caracterizada quando o virtualizador executa diretamente sobre o hardware do sistema. Este método é mais eficiente, tendo o melhor desempenho entre os métodos de virtualização;
	
	\item Tipo 2: A virtualização de tipo 2 é caracterizada quando o virtualizador executa sobre um sistema operacional hospedeiro, que prôve serviços de virtualização, tais como suporte à entrada/saída de dados e gerenciamento de memória.
	
	\item Virtualização por uso de containers: Este modo de virtualização é caracterizado pela abstinência do virtualizador. A virtualização ocorre a nível de sistema operacional \abreviatura{SO}{Sistema Operacional} (SO). Existe um SO raiz, que permite a virtualização de instâncias deste sistema operacional. Este modo de virtualização resulta num uso eficiente de memória, sendo esta sua vantagem diante dos outros métodos de virtualização. Todavia, como todas instâncias virtuais são imagens do SO raíz, todas as instâncias serão da mesma versão que o SO raíz.
	
\end{itemize}

A virtualização é um processo utilizado nos ambientes na nuvem para dividir lógicamente os recursos físicos de um servidor, normalmente sendo usados virtualizadores como componente responsável pela criação, desalocação e gerenciamento das \textit{virtual machines} \abreviatura{VM}{Virtual Machine}(VMs) ou, em português, máquinas virtuais. O uso de virtualizadores facilita o provisionamento de diferentes sistemas operacionais sem que eles estejam instalados diretamente nos servidores físicos. Outra vantagem da virtualização está na facilitação do processo de migração de VMs em tempo de execução para outros servidores fisicos, facilitando o processo de manutenção.

\section{Orquestração de ambientes em nuvem}

Ambientes de computação em nuvem, são complexos e heterogêneos, possuindo inúmeros componentes e variáveis dinâmicas que devem ser interligadas e gerenciadas. Essas características, tornam a gerência e otimização destes ambientes humanamente impossível\\ \cite{a-westphal-energetico}. Dessa forma, deve-se usar ferramentas para orquestrar os recursos do ambiente, fazendo com que o ambiente atinja o nível de auto-gerenciamento.\par


Em um trabalho recente, \cite{tcc-gabriel}, foram estudadas 4 ferramentas de orquestração atuais. Segundo este estudo, foi constatado, entre as ferramentas, a existência de 5 componentes básicos:

\begin{itemize}  
	\item O gerente de identidades, que realiza a gerência dos usuários, autenticação e autorização, possibilitando controle, disponibilidade segura e organizada da infraestrutura;
	\item O gerente de alocação, que realiza a alocação das VMs quando criadas, ligadas ou migradas;
	\item \textit{Hypervison}, que representa o componente com a responsabilidade de enviar comandos e gerenciar cada cluster de virtualizadores;
	\item Um componente de armazenamento para a distribuição e compartilhamento das imagens de VMs entre os servidores;
	\item Um elemento responsável pela gerência e configuração de rede.
\end{itemize}

A Figura \ref{fig:orquestracao}, retirada desse estudo, mostra de forma visual a arquitetura de uma ferramenta de orquestração.

 \begin{figure}[!htb]
 	\centering
 	\caption{Representação de uma ferramenta de orquestração \cite{tcc-gabriel}.}\label{fig:orquestracao}
 	\includegraphics[width=1\textwidth]{figuras/ferramentasOrquestracao.jpg}
 \end{figure}
 
 Dentro do contexto deste trabalho, a ferramenta de orquestração utilizada será o \textit{CloudStack}. A razão da escolha desta plataforma é dada pela sua simplicidade, estabilidade, boa documentação, ser de código aberto e ter uma comunidade ativa trabalhando na correção e melhoria do software. O comparativo entre ferramentas de orquestração atuais, usado para realizar a escolha da ferramenta, pode ser vista no capítulo de fundamentação do trabalho \cite{tcc-gabriel}.

\subsection{Consolidação}

Segundo \citeonline{tcc-gabriel}, a consolidação é definida como a agregação de VMs em servidores físicos, concentrando um maior número de máquinas virtuais em um grupo mínimo de servidores.\par

O benefício de técnicas de consolidação vem na possibilidade de aumentar a eficiência de um ambiente de CN através do desligamento de recursos ociosos. Em um cenário ótimo, todos os servidores que estão ligados, tendem a carga máxima, fazendo com que a eficiência deste ambiente também esteja tendendo ao máximo possível. Para que seja possível a consolidação, deve ser possível migrar VMs em tempo de execução, fato que só ocorre entre servidores com hardware compatível e mesmo virtualizador. Este e outros fatores, como a necessidade de atender a cargas estocásticas, faz com que a consolidação de ambientes em nuvem não seja um problema trivial de se resolver.\par

Para que a consolidação seja possível, deve haver alguma forma de comunicação entre servidores, para que estes acordem em realizar um rebalanceamento de carga. Além disso, a comunicação e migração deve ocorrer entre máquinas que se encaixam no cenário em que há a necessidade de uma migração em tempo de execução. Neste tipo de ambiente, além de estarem presentes conceitos de negociação e atos de fala, há informação fragmentada inserida nos elementos do ambiente. Tais pontos são discutidos e estão presentes no conjunto de características de problemas onde o uso de sistemas multiagente é recomendado, apontadas por Wooldridge em seu livro \cite{wooldridge2009introduction}.

\section{Sistemas Multiagentes}

Sistemas multiagentes são considerados uma área de estudo dentro da Inteligência Artificial Distribuída (IAD)\abreviatura{IAD}{Inteligência Artificial Distribuída}. SMA possuem a capacidade de lidar com problemas em ambientes distribuídos e abertos, tal como os ambientes em larga escala encontrados que usam a internet como meio \cite{wooldridge2009introduction}.\par

A abordagem de SMA é descrita na forma de múltiplos elementos computacionais (agentes), que trocam conhecimento entre si na forma de cooperação, coordenação, negociação e similares, possibilitando a fragmentação de problemas complexos em sub-problemas menores e objetivos. Estes, por sua vez, podem ser abordados de diferentes formas, por diferentes agentes especialistas \cite{a-ricardo-intro}.\par

O emprego de SMA tem apresentado sucesso em áreas que trabalham com ambientes dinâmicos e descentralizados, onde a tomada de decisão não depende apenas de um único ponto de vista \cite{kelash2007takes}.
 
\subsection{Agentes}

Um agente é um sistema computacional capaz de atuar autonomamente de maneira a alcançar seus objetivos \cite{wooldridge2009introduction}. Agentes são entidades capazes de se comunicar entre si, possuem mobilidade e comportam-se de forma independente e inteligente dentro do ambiente. De uma forma geral, os agentes funcionam em um ciclo contínuo de perceber o mundo, decidir sua próxima ação e executá-la. A Figura \ref{fig:agente} representa o ciclo contínuo de execução de um agente.

\begin{figure}[!htb]
	\centering
	\caption{Representação de um agente em um ambiente \cite{RussellLivro}.}\label{fig:agente}
	\includegraphics[width=1\textwidth]{figuras/imgAgent.png}
\end{figure}

Sensores e atuadores são módulos dos agentes representando sua interface com o mundo. Eles estão diretamente relacionados com as capacidades dos agentes de perceber e agir. Através dos sensores, um agente consegue perceber o ambiente que ele está inserido. Esta entrada, na forma percepções, é avaliada pelo agente, resultando em uma decisão de ação. Por fim, através dos atuadores, o agente é capaz de agir em seu ambiente, modificando o estado do ambiente.

\subsubsection{Características de Agentes}

Um agente é responsável por representar um ponto de vista e agir de forma coerente para alcançar um objetivo. Assim como uma sociedade de agentes exprime vários pontos de vista e objetivos. No evento em que dois ou mais pontos de vista entram em conflito, os agentes devem ter a capacidade de negociar, para que possam encontrar a melhor ação para o problema em conjunto \cite{wooldridge2009introduction}.\par 

Segundo Silveira em \cite{a-ricardo-intro}, mesmo tendo natureza diversa, os agentes possuem características recorrentes, relacionadas com suas abordagens para resolver problemas e capacidade de comunicação. Encontrado em maior ou menor grau em uma implementação de um agente, estes atributos são:

\begin{itemize}  
	\item Reatividade: a habilidade de perceber o ambiente de modo seletivo e manifestar um
	comportamento como resposta a um estímulo externo;
	\item Autonomia: comportamento dirigido a objetivos, pró-ativo e auto-iniciado;
	\item Comportamento cooperativo: trabalhar com outros agentes para atingir um objetivo
	comum;
	\item Habilidade de comunicação ao nível de conhecimento: capacidade de comunicar-se com
	pessoas ou outros agentes em uma linguagem de mais alto nível que um simples protocolo
	de comunicação programa a programa;
	\item Capacidade de inferência: capacidade de agir a partir de especificações abstratas de
	tarefas, usando conhecimentos prévios;
	\item Continuidade temporal: persistência de identidade por longos períodos de tempo;
	\item Personalidade: capacidade de demonstrar atributos de um personagem;
	\item Adaptabilidade: habilidade de aprender com a experiência;
	\item Mobilidade: habilidade de migrar de uma plataforma para outra.
\end{itemize}

As diferenças entre agentes é o fator responsável pela heterogeniedade do SMA. O fato de que diferentes entidades dividem o mesmo ambiente, faz com que um problema possa ser percebido de diferentes formas e lidado de maneiras diferentes e condizentes com um plano de ação conjunto. Em adição à suas características, os agentes possuem estratégias diferentes para a tomada de decisão, fator que gera diferentes classificações para estes, descritas nas próximas sub-seções. 

\subsubsection{Agentes Reativos}

Segundo Wooldridge em \cite{wooldridge2009introduction}, agentes puramente reativos são entidades computacionais que decidem suas ações baseados exclusivamente no estado presente do ambiente. Eles recebem seu nome em razão do comportamento analogo a uma resposta imediata, sem consulta a um histórico passado de conhecimento. Agentes reativos fazem escolhas baseados nas informações que são capazes de perceber localmente e adotam estratégias de acordo com essa visão de ambiente. Embora sejam úteis em razão de que são programados de forma a ter comportamentos hierarquicamente organizados, esse tipo de agente pode se tornar muito complexo para entender quando o número de comportamentos associado a eles cresce.

\subsubsection{Agentes Deliberativos}

Agentes deliberativos são aqueles que tem alguma forma de retenção de conhecimento na forma de experiências passadas, criando um modelo explícito de mundo. Esses dados são armazenados de forma simbólica, constituindo um estado interno do agente. Tais informações são análogas a crenças e seu papel é auxiliar a escolha do plano de ação do agente, suplementando sua percepção do ambiente atual.\par 

Um conjunto de crenças é chamado de banco de conhecimento. Esse é continuamente atualizado com as percepções do agente, assim como é usado para verificar condições necessárias para a escolha de um próximo plano de ação do agente.\par

Na Figura \ref{fig:agente-BDI} é demonstrado a arquitetura de um agente deliberativo que age no formato de \textit{Beliefs, Desire and Intentions} \abreviatura{BDI}{Beliefs Desire Intentions}(BDI), em português crenças, desejos e intenções.

\begin{figure}[!htb]
	\centering
	\caption{Modelo genérico de um agente deliberativo BDI \cite{bdi4jade}.}\label{fig:agente-BDI}
	\includegraphics[width=1\textwidth]{figuras/bdiArch.jpg}
\end{figure}

Os agentes BDI são aqueles que mantém uma série de objetivos, armazenados na forma de desejos, mantém planos na forma de intenções e possuem crenças, que são informações que guardam de forma simbólica sobre o ambiente. Utilizando lógica de predicados de primeira ordem, um agente BDI pode escolher qual plano melhor se encaixa na sua visão de mundo atual.

\subsubsection{Agentes Híbridos}

De acordo com \cite{wooldridge2009introduction}, agentes híbridos são capazes de apresentar comportamento reativo e proativo através da modelagem de camadas de comportamentos. A partir dos dados providos pela leitura do ambiente, o agente pondera seus comportamentos da camada de planos reativos e da sua camada de comportamentos proativos. A saída dessa função de ponderação é interpretada de forma análoga a uma sugestão de plano. Agentes deste tipo funcionam graças a presença explícita ou não de uma camada de controle de comportamentos.

\subsection{Comunicação entre Agentes}

Diferentemente do paradigma de orientação a objetos, onde ins-\\tâncias de objetos invocam métodos de outras instâncias, um agente não possui esse nível de controle sobre outros agentes. Ou seja, um não pode forçar outro a executar ações, pois estas podem entrar em conflito com seus planos e objetivos. Deste modo a comunicação entre agentes ocorre no formato de ações de diálogo, um esforço feito por um agente para tentar mudar as crenças de outro \cite{wooldridge2009introduction}.\par

Como exemplo, pode-se imaginar um agente que é capaz de perceber uma anomalia no ambiente. Ao perceber que a dada anomalia aconteceu, este agente tem a intenção de avisar sobre o ocorrido aos demais agentes do ambiente. Para realizar esta ação, este agente irá executar uma ação de diálogo, buscando mudar as crenças dos agentes com o qual ele se comunica. Entretanto a decisão de efetivamente mudar as crenças cabem aos receptores da mensagem, que decidem avaliando suas próprias crenças, intenções e percepções.\par

Agentes podem ser escritos por indivíduos diferentes e ter objetivos diferentes de outros no seu meio. Esse tipo de cenário pode gerar conflitos entre agentes, estes devem ser resolvidos através de coordenação e negociação \cite{wooldridge2009introduction}. Usando o mesmo tipo de comunicação, tal cenário traz a necessidade da existência de atos de diálogo capaz de fazer com que agentes dividam responsabilidades, tarefas e também acordem objetivos.


%TODO senti falta dos tipos de comunicação, chamada de método remoto, blackboard ou comunicação direta entre agentes, o Lucas tem umas referencias bem boas sobre isso.


\subsubsection{Padroes de Comunicaçao}

Com o âmbito de iniciar a padronização das linguagens de sistemas autônomos, a agência dos estados unidos, \textit{Defense Advanced Research Projects Agency} \abreviatura{DARPA}{Defense Advanced Research Projects Agency}(DARPA) \cite{darpasite}, iniciou um movimento chamado de \abreviatura{KSE}{Knowledge Sharing Effort}\textit{Knowledge Sharing Effort} (KSE) \cite{ksesite} que mais tarde geraria o primeiro padrão de mensagens para comunicação de agentes, o \textit{Knowledge Query and Manipulation Language} \abreviatura{KQML}{Knowledge Query and Manipulation Language}(KQML) \cite{finin1994kqml}.\par

O KQML é uma linguagem para comunicação de agentes, servindo como um envelope semântico para o conteúdo da mensagem. O padrão define um formato comum, para as trocas de informação entre agentes, sem interferir no conteúdo em si. Segundo Wooldridge em \cite{wooldridge2009introduction}, o envelope é composto de parâmetros na forma de chave-valor. Estes tem a função de garantir características tais como independência de linguagem e suporte a diferentes representação interna de conhecimento. Dessa forma o receptor pode, entre outras coisas, saber a linguagem em que o remetente escreveu e espera a resposta e ter acesso a ontologia do remetente. Os parâmetros da mensagens são complementados por um elemento performativo, que é análogo ao tipo da mensagem (ex. pergunta, resposta, oferta, entre outros). Seguindo um racicínio similar a orientação a objetos, pode-se pensar em performativas como a classe de um objeto mensagem e seus parâmetros ( pares chave-valor ) como variáveis de uma instância.\par

Através da padronização de mensagens, agentes podem interpretar de forma diferente o conteúdo de uma mensagem, fazendo com que diferentes cabeçalhos gerem significados diferentes para um mesmo conteúdo.\par 

Segundo \cite{wooldridge2009introduction}, o KQML foi criticado, entre outras razões, pela ausência de performativas necessárias para atos de coordenação entre agentes e por ter semântica pouco rigorosa, levando a mensagens ambíguas. Outros padrões foram então propostos e introduzidos no cenário de comunicação de agentes.\par

Um desses padrões, nomeado de \textit{Foundation for Intelligent Physical Agents} \abreviatura{FIPA}{Foundation for Intelligent Physical Agents} (FIPA) \cite{fipasite}, foi desenvolvido englobando os preceitos de reusabilidade e interoperabilidade entre SMAs. Ele usa a mesma estrutura proposta pelo KQML, porém suas coleções de ações performativas divergem. A linguagem de comunicação entre agentes FIPA tem como ponto forte uma semântica baseada em teorias de atos de diálogos mapeados para ações racionais. Dessa forma, as mensagens podem representar crenças, vontades e incertezas de um agente de forma não ambígua \cite{serugendo2007autonomous}.

O padrão FIPA, segundo o documento de especificações FIPA97, descreve o modelo de referência para plataformas de sistemas multiagentes. São identificados funções de agentes chaves, necessários para o controle da plataforma, é especificado como é feito o gerenciamento de agentes, linguagem do conteúdo e ontologias. Dentre estes agentes chaves de uma plataforma, os indispensáveis são \cite{a-jade}:

\begin{itemize}
	\item \textit{Agent Management System}\abreviatura{AMS}{Agent Management System} (AMS) é o agente que deve supervisionar o acesso e uso da plataforma. Ele é responsável por autenticar os agentes internos e controlar seus registros;
	
	\item \textit{Agent Communication Channel}\abreviatura{ACC}{Agent Communication Channel} (ACC) é o agente que prôve o caminho para contatos básicos entre agentes dentro e fora da plataforma. Ele é o método padrão de comunicação que oferece um serviço confiável, preciso e ordenado de mensagens. Este agente deve ser responsável também por trazer suporte para interoperabilidade entre diferentes plataformas de agentes;
	
	\item \textit{Directory Facilitator}\abreviatura{DF}{The Directory Facilitator} (DF) é o agente que prôve um serviço de páginas amarelas à plataforma de agentes.
\end{itemize}

Mesmo propondo agentes necessários para o gerenciamento de plataformas, o FIPA não impõem nenhuma técnologia para a implementação da plataforma e de seu canal de transporte de mensagens, fazendo com que implementações usando \textit{Java multi-threads}, CORBA, entre outros possam acordar com o padrão FIPA. A Figura \ref{fig:fipa} mostra a interação dos componentes da plataforma de agentes proposta pelo padrão.

\begin{figure}[!htb]
	\centering
	\caption{Referência de plataformas de agente do padrão FIPA \cite{a-jade}.}\label{fig:fipa}
	\includegraphics[width=1\textwidth]{figuras/fipa.png}
\end{figure}

\subsection{Ferramentas de desenvolvimento}

Esta seção é designada a apresentar as plataformas de SMA mais usadas, seus pontos fortes, fracos e características.

\subsubsection{JADE}

 \textit{Java Agent Development} \abreviatura{JADE}{Java Agent Development}(JADE) é um \textit{framework} para desenvolvimento de aplicações de agentes compatível com as especificações da FIPA para interoperabilidade entre sistemas multiagentes \cite{a-jade}. O objetivo da ferramenta JADE é providenciar ao desenvolvedor uma maneira simples de desenvolver seu programa, facilitando a implementação dos padrões da FIPA. As características do JADE, importantes para o problema apresentado neste trabalho, são:
 
 \begin{itemize}
 	\item Plataforma que segue o padrão FIPA, incluindo os três agentes, necessários e descritos, ativados junto com a inicialização da plataforma.
 	
 	\item Plataforma de agentes distribuída. A plataforma pode ser dividida entre vários servidores, contanto que não há \textit{firewall} entre eles, usando apenas uma aplicação em cada servidor, rodando em uma \textit{Java Virtual Machine}\abreviatura{JVM}{Java Virtual Machine} (JVM). Agentes são implementados como uma \textit{thread} Java e suas ações paralelas são tratadas como tarefas, estas escalonadas pela própria plataforma de maneira leve e eficiente. A comunicação entre agentes na mesma JVM se dá pelo uso de \textit{Java Events}.
 	
 	\item Transporte de mensagens dentro da mesma plataforma é feito através de transferências de objetos Java para evitar conversões de dados. Quando o receptor ou remetente não pertençe a mesma plataforma, a mensagem é automaticamente convertida para o formato FIPA.
 	
 	\item Suporte a agentes reativos e a agentes BDI a partir de um modelo de agente genérico.
 	
 \end{itemize}

As JVMs instanciadas atuam, cada uma, como um container de agentes do JADE. Cada container é responsável por gerenciar localmente o ciclo de vida de seus agentes instanciados, assim como deve manter as informações necessárias para realizar a comunicação dos seus agentes com agentes residentes em outros containers.\par

Uma JVM do JADE irá se portar como um \textit{front-end} da plataforma para o ambiente externo. Este container especial possui os agentes de gerência descritos pela FIPA e é responsável por representar toda a plataforma para com outras plataformas de SMA externas. Assim, esta instância é responsável, dentre outras coisas, por fazer o roteamento das mensagens trocadas entre agentes internos e externos à plataforma. A Figura \ref{fig:jadearq} representa a arquitetura do JADE de forma visual.

\begin{figure}[!htb]
	\centering
	\caption{Arquitetura da plataforma JADE \cite{a-jade}.}\label{fig:jadearq}
	\includegraphics[width=1\textwidth]{figuras/jadearq.png}
\end{figure}

Agentes devem ser capazes de se comunicar com outros agentes tanto dentro da mesma plataforma quanto com agentes externos a esta. Os agentes externos são aqueles alocados em outros SMAs, fora do domínio da aplicação. Para que a troca de mensagens seja possível neste caso, ambas as plataformas devem respeitar o mesmo protocolo.\par

Toda a comunicação de agentes feita pelo JADE acontece na forma de troca de mensagens no formato FIPA. Entretanto as tecnologias usadas para alcançar agentes diferem de acordo com a localização do destinatário em relação ao remetente.
A comunicação intra-plataforma (entre agentes residentes do mesmo container ou de containers diferentes) é implementada usando soluções fornecidas pela técnologia Java. Porém a comunicação onde o destino é externo à plataforma são utilizados protocolos \textit{Internet Inter-ORB Protocol}\abreviatura{IIOP}{Internet Inter-ORB Protocol} (IIOP), sendo este um protocolo para sistemas distribuídos que possibilita a comunicação entre sistemas escritos em linguagens diferentes \cite{a-jade}. Os diferentes cenários de troca de mensagens são descritos da seguinte forma:

\begin{itemize}
	\item Mesma plataforma, mesma JVM -- as mensagens são trocadas sem invocação remota, através da chamada do método \textit{clone()} em um objeto Java \textit{ACLMessage};
	
	\item Mesma Plataforma, JVM diferente -- as mensagens são trocadas através de \textit{Remote Method Invocation}\abreviatura{RMI}{Remote Method Invocation} (RMI), uma interface IIOP para objetos Java. O objeto \textit{ACLMessage} é serializado no remetenre e des-serializado no destinatário;
	
	\item Plataformas diferentes, ambas JADE -- uma chamada direta entre ACCs é feito usando o padrão \textit{Common Object Request Broker Architeture}\abreviatura{CORBA}{Common Object Request Broker Architeture} (CORBA). Desta forma, um objeto Java é transformado em literal, depois em \textit{stream} de bytes IIOP pelo remetente e o processo inverso acontece no destinatário;
	
	\item Plataformas diferentes (não-JADE) -- mesmo caso que o anterior, a única mudança está no destinatário, onde o processo de tratamento do \textit{stream} de bytes no padrão FIPA é tratado como uma caixa preta.
\end{itemize}

 A plataforma JADE usa as facilidades e pacotes do Java para prover as funcionalidades de sistemas multiagentes, sendo uma plataforma de fácil uso e entendimento para programadores já habituados com a linguagem, através do uso de recursos como \textit{Java Annotations} e orientação à objetos. Entretanto o suporte ao desenvolvimento de agentes em outras linguagens de programação dentro da plataforma não é um assunto endereçado no \textit{framework}.
 
\subsubsection{JADEX}

Jadex é um \textit{framework} de software para a criação de agentes que seguem o modelo BDI, usando a linguagem Java. Sua motivação é prover a funcionalidade de criar agentes cognitivos orientados a BDI para plataformas de SMA com agentes genéricos. O \textit{framework} usa de técnicas de orientação a objetos para realizar a modelagem de conceitos comuns ao modelo de agentes cognitivos, tais como: % TODO Cite Jade1

\begin{itemize}
	\item Crenças: modeladas tanto no formato de fatos ou conjunto de fatos.  Mudanças na base de crenças podem ser feitas de forma descritiva, modificando diretamente o conjunto de crenças de um agente.
	
	\item Objetivos: são o conceito principal do Jadex. Eles são tratados como desejos momentâneos de um agente e modelados de forma a representar um estado alvo do mundo. Esta modelagem é composta de um conjunto de fatos necessários para a completude do objetivo. Um agente irá sempre, direta ou indiretamente, tomar um plano de ação que visa atingir um conjunto de seus objetivos. Este conceito é modelado de forma a ser acessível pelos planos do agente, facilitando a criação e modificação de objetivos caso haja a necessidade.  
	
	\item Planos: representam elementos comportacionais dos agentes Jadex. São compostos por um cabeçalho e um corpo. No cabeçalho de um plano estão descritas as pré-condições que farão com que este plano seja adotado. No corpo é detalhado, de forma procedural, como o agente deve agir caso esse plano seja escolhido para execução.
	
	\item Capacidades: são mecanismos para agrupamento de elementos BDI. Este conceito tem como objetivo trazer reusabilidade e organização para elementos relacionados. Capacidades são definidas como um conjunto de crenças, planos, objetivos e eventos. Este conceito é associado aos agentes, resultando em agentes que podem ter acesso a elementos e atributos de suas capacidades.
	 
\end{itemize}
 
 O Jadex faz uso de \abreviatura{XML}{Extended Markup Language} \textit{extended markup language} (XML) para implementar o \textit{agent definition file}\abreviatura{ADF}{Agent Definition File} (ADF), um arquivo que descreve os elementos BDI, tais como o agente. A implementação destes elementos, no entanto, é feita através da programação de objetos Java, implementando interfaces disponíveis pelo Jadex. A Figura \ref{fig:jadexagent} mostra uma representação resumida de um agente Jadex, explicitando suas partes descritiva e procedural.
 
 \begin{figure}[!htb]
 	\centering
 	\caption{Representação de um agente JADEX \cite{a-jade}.}\label{fig:jadexagent} %TODO ref
 	\includegraphics[width=1\textwidth]{figuras/jadex.png}
 \end{figure}
 
\iffalse

\chapter{Desenvolvimento}

\section{EXPOSIÇÃO DO TEMA OU MATÉRIA}

É a parte principal e mais extensa do trabalho. Deve apresentar a fundamentação teórica, a metodologia, os resultados e a discussão. Divide-se em seções e subseções conforme a NBR 6024~\cite{abnt14724}. Quanto a sua estrutura, segue as recomendações da norma para preparação de trabalhos acadêmicos, a NBR 14724 de 2011~\cite{abnt14724}. Quanto à Formatação, segue o modelo adotado pela UFSC, o formato A5.


\subsection{Formatação do texto}

No que diz respeito à estrutura do trabalho, o novo modelo para dissertações e teses adotado pela UFSC segue a NBR 14724 (2011). Porém, em relação à formatação, a UFSC adotou o tamanho A5, que corresponde à metade do A4. Por esta razão, foi necessário uma adequação no tamanho da fonte, espaçamento entrelinhas, margens, etc, conforme exposto no quadro abaixo.

O texto deve ser justificado, digitado em cor preta, podendo utilizar outras cores somente para as ilustrações. Utilizar papel branco. Os elementos pré-textuais devem iniciar no anverso da folha, com  exceção da ficha catalográfica. Os elementos textuais e pós-textuais devem ser digitados no anverso e verso das folhas, com espaçamento simples (1). 



\subsubsection{As ilustrações}

Independente do tipo de ilustração (quadro, desenho, figura, fotografia, mapa, entre outros) sua identificação aparece na parte superior, precedida da palavra designativa. 



A indicação da fonte consultada deve aparecer na parte inferior, elemento obrigatório mesmo que seja produção do próprio autor. A ilustração deve ser citada no texto e inserida o mais próximo possível do texto a que se refere~\cite{abnt14724}. 

A Figura \ref{fig:a} mostra o logo da BU
\begin{figure}[!htb]
   \centering
   \caption{Logo da BU.}\label{fig:a}
   \includegraphics[width=0.3\textwidth]{figuras/brasaoBU.jpg}
\end{figure}

A Tabela~\ref{tab:a} mostra mais informações do template BU.

\begin{table}[!htb]
\begin{center}
 \caption{Formatação do texto.}\label{tab:a}
  \begin{tabular}{ p{3cm} | p{6cm} }
    \hline
Cor & Branco\\ \hline
Formato do papel & A5\\ \hline
Gramatura & 75\\ \hline
Impressão & Frente e verso\\ \hline
Margens & Espelhadas: superior 2, Inferior: 1,5, Externa 1,5 e Externa: 2.\\ \hline
Cabeçalho & 0,7\\ \hline
Rodapé & 0,7\\ \hline
Paginação & Externa\\ \hline
Alinhamento vertical & Superior\\ \hline
Alinhamento do texto & Justificado\\ \hline
Fonte sugerida & Times New Roman \\ \hline
Tamanho da fonte & 10,5 para o texto incluindo os títulos das seções e subseções. As citações com mais de três linhas as legendas das ilustrações e tabelas, fonte 9,5.\\ \hline
Espaçamento entre linhas & Um (1) simples\\ \hline
Espaçamento entre parágrafos & Anterior 0,0; Posterior 0,0\\ \hline
Numeração da seção & As seções  primárias devem  começar  sempre em páginas ímpares. Deixar um espaço (simples) entre o título da seção e o texto e  entre o texto e o título da subseção. \\  \hline
  \end{tabular}
\end{center}
Fonte: Universidade Federal de Santa Catarina (2011)
\end{table}



\subsubsection{Equações e fórmulas}

As equações e fórmulas devem ser destacadas no texto para facilitar a leitura.  Para numerá-las, deve-se usar algarismos arábicos entre parênteses e alinhados à direita. Pode-se usar uma entrelinha maior do que a usada no texto~\cite{abnt14724}.

Exemplo: A equação \ref{eq:a}
\begin{equation}
 x^2 + y^2 = z^2
 \label{eq:a}
\end{equation}
 e a equação  \ref{eq:b}
\begin{equation}
 x^2 + y^2 = n
\label{eq:b}
\end{equation}

\subsection{Exemplo de como gerar a lista de símbolos e abreviaturas}

Para gerar a lista de símbolos e abreviaturas use os comandos

\abreviatura{SMA}{Sistemas Multi Agentes}
\abreviatura{IBGE}{Instituto Brasileiro de Geografia e Estatística}
\simbolo{$\int$}{Integral}
\simbolo{$\prod$}{Produtório}

\begin{lstlisting}
\simbolo{símbolo}{descrição}
\end{lstlisting}

\begin{lstlisting}
\abreviatura{abreviatura}{descrição}
\end{lstlisting}

\subsubsection{Exemplo de citações no \LaTeX}

Segundo \citeonline{alves_2001} ...

...no final da frase \cite{abnt14724,BU_formatoA5}


\nocite{alves_2001,abnt10520,abnt6024,abnt14724}



\chapter{CONCLUSÃO}

As conclusões devem responder às questões da pesquisa, em relação aos objetivos e hipóteses. Devem ser breves podendo apresentar recomendações e sugestões para trabalhos futuros.

\fi
\bibliographystyle{ufscThesis/ufsc-alf}
\bibliography{bibliografiaAlex}

%--------------------------------------------------------
\iffalse
% Elementos pós-textuais
\apendice
\chapter{Exemplificando um Apêndice}
Texto do Apêndice aqui. 

\anexo
\chapter{Exemplificando um Anexo}
Texto do anexo aqui.
\fi
\end{document}
